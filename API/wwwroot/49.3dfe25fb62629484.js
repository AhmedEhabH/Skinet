"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[49],{3049:(A,d,o)=>{o.r(d),o.d(d,{OrdersModule:()=>U});var i=o(6814),a=o(2999),t=o(9468),u=o(5516),p=o(9862);let c=(()=>{class r{constructor(e){this.http=e,this.baseUrl=u.N.apiUrl}getOrdersForUser(){return this.http.get(this.baseUrl+"orders")}getOrderDetailed(e){return this.http.get(this.baseUrl+"orders/"+e)}static#t=this.\u0275fac=function(s){return new(s||r)(t.LFG(p.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function h(r,l){if(1&r&&(t.TgZ(0,"tr",6)(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&r){const e=l.$implicit;t.MGl("routerLink","/orders/",e.id,""),t.xp6(2),t.hij("# ",e.id,""),t.xp6(2),t.Oqu(t.xi3(5,5,e.orderDate,"medium")),t.xp6(3),t.Oqu(t.lcZ(8,8,e.total)),t.xp6(3),t.Oqu(e.status)}}let m=(()=>{class r{constructor(e){this.orderService=e}ngOnInit(){this.getOrders()}getOrders(){this.orderService.getOrdersForUser().subscribe({next:e=>{this.orders=e},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(s){return new(s||r)(t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-orders"]],decls:16,vars:1,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-12"],[1,"table","table-hover",2,"cursor","pointer"],[1,"thead-light"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),t._uU(7,"Order"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Date"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Total"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Status"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,h,11,10,"tr",5),t.qZA()()()()()),2&s&&(t.xp6(15),t.Q6J("ngForOf",n.orders))},dependencies:[i.sg,a.rH,i.H9,i.uU]})}return r})();var g=o(8066),v=o(9129),O=o(9384);function f(r,l){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"app-basket-summary",4),t.qZA(),t.TgZ(3,"div",5),t._UZ(4,"app-order-totals",6),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("items",e.order.orderItems)("isBasket",!1)("isOrder",!0),t.xp6(2),t.Q6J("shippingPrice",e.order.shippingPrice)("subtotal",e.order.subtotal)("total",e.order.total)}}const Z=[{path:"",component:m},{path:":id",component:(()=>{class r{constructor(e,s,n){this.route=e,this.breadcrumbService=s,this.orderService=n,this.breadcrumbService.set("@OrderDetailed"," ")}ngOnInit(){this.orderService.getOrderDetailed(+this.route.snapshot.paramMap.get("id")).subscribe({next:e=>{this.order=e,this.breadcrumbService.set("@OrderDetailed",`Order# ${e.id} - ${e.status}`)},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(s){return new(s||r)(t.Y36(a.gz),t.Y36(g.pm),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-detailed"]],decls:2,vars:1,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row"],[1,"col-8"],[3,"items","isBasket","isOrder"],[1,"col-4"],[3,"shippingPrice","subtotal","total"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0),t.YNc(1,f,5,6,"div",1),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",n.order))},dependencies:[i.O5,v.S,O.b]})}return r})(),data:{breadcrumb:{alias:"OrderDetailed"}}}];let b=(()=>{class r{static#t=this.\u0275fac=function(s){return new(s||r)};static#e=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(Z),a.Bz]})}return r})();var T=o(6208);let U=(()=>{class r{static#t=this.\u0275fac=function(s){return new(s||r)};static#e=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[i.ez,b,T.m]})}return r})()}}]);